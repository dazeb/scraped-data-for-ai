[
  {
    "title": "Pelican",
    "url": "https://pelican.dev/docs/troubleshooting/",
    "html": "Skip to main content\nPelican\nInstall\nBlog\nDonate\nNewsletter\nFAQ\nWelcome to Pelican!\nPanel\nGetting Started\nWebserver Configuration\nConfiguration Options\nUpdating the Panel\nAdvanced\nWings\nGuides\nTroubleshooting\nWhat is ...?\nTroubleshooting\nTroubleshooting\nPanel errors​\n\nIf you see a 500 | SERVER ERROR or An unexpected error was encountered while processing this request you have to check your panel logs by running the following command.\n\ntail -n 100 /var/www/pelican/storage/logs/laravel-$(date +%F).log | grep \"\\[$(date +%Y)\"\n\n\nIf the command above doesn't return anything you most likely have wrong permissions for your storage folder. So you first need to fix that.\nYou can set the correct permissions by running chmod -R 755 /var/www/pelican/storage/* /var/www/pelican/bootstrap/cache/. Also make sure that your panel files are owned by the correct user.\n\nNGINX/Apache\nRocky Linux NGINX\nRocky Linux Apache\nchown -R www-data:www-data /var/www/pelican \n\nSome common errors​\nErrorException: file_put_contents(_____): failed to open stream: Permission denied: Wrong file permissions/ ownership for the panel files, see above.\n502 Bad Gateway Error: Make sure that php-fpm is running and that you are using the correct php version in your webserver config.\nCSRF token mismatch: Enable SSL for your Panel with HTTPS protocol scheme in the APP_URL, or set SESSION_SECURE_COOKIE to false in your .env file.\nConnection refused [tcp://_______:6379]: Redis isn't running or isn't reachable for some other reason. (start by checking the status of the redis service: systemctl status redis-server)\nSSL: no alternative certificate subject name matches target host name '_______': The used SSL certificate for your panel isn't valid for your panel domain, see this guide for creating a new SSL certificate.\nGeneral error: 8 attempt to write a readonly database: Your database.sqlite has wrong file permissions and is readonly. Make sure the file is writeable and owned by the correct user.\nClass '_____' not found: This usually means you are missing php extensions. Make sure all needed extensions are installed and that you are using the correct php version.\nConnection timed out after 5001 miliseconds for _______:8080: Your panel can't reach wings, see the wings connection issues steps below.\nWings connection issues​\nCheck the wings service​\n\nFirst you should make sure that the wings service is running. To do that run systemctl status wings.\nIt should say that the service is active and running. If its in a failed state run sudo wings diagnostics to check the wings logs for errors.\n\nSome common errors in the wings logs are:\n\nopen /etc/letsencrypt/live/_____________/fullchain.pem: no such file or directory: The SSL certificate for wings is missing, see this guide for creating a SSL certificate.\nPool overlaps with other one on this address space: You already have a docker network using the default subnet. (172.18.0.0/16) Change the subnet in your wings config file and use systemctl stop wings && docker network rm pelican_nw && systemctl start wings to apply the change.\nError response from Panel: AccessDeniedHttpException: You are not authorized to access this resource. (HTTP/403): Your wings token is wrong, you need update the token in your config.yml file\nError response from Panel: _MissingResponseCode: No error response returned from API endpoint: Your panel is not responding correctly. This usually happens when Cloudflare is blocking the connection. In that case make sure your wings ip is added to the Cloudflare firewall. If you aren't using Cloudflare it might be some other CDN/ DDoS protection service or your provider.\nremote: could not unmarshal response: invalid character '<' looking for beginning of value: This is basically the same error as above: Cloudflare is blocking the connection.\nCheck the wings port​\n\nIf you confirmed that wings is running without errors you should make sure that the wings port (8080 by default) isn't blocked by any firewall. The best way to check this is to use online port checkers like dnschecker.org\nIt should say \"open\" if you check for your node FQDN (e.g. node.example.com or 123.123.123.123) and your wings port (e.g. 8080). If it says \"timed-out\" you have some firewall blocking the port. This could be an internal firewall (like iptables) or an external firewall (e.g. from your provider).\n\nCheck for NAT loop back​\n\nIf your panel and wings are on the same machine or same network, and you are using domains you should check for NAT loop back issues. Edit the /etc/hosts file on your panel/ wings machine and add an entry for your ip and domain.\n\nExample:\n\n/etc/hosts\n123.123.123.123 panel.example.com node.example.com\n\nCheck the wings connection​\n\nIf you confirmed the above points you have to do some advanced troubleshooting.\n\nCheck if your panel and your browser can connect to wings.\n\nPanel <-> Wings connection​\n\nRun curl <protocol><node fqdn>:<node port> (e.g. curl https://node.example.com:8080 or curl http://123.123.123.123:8080) on your panel machine and see what it outputs.\n\nBrowser <-> Wings connection​\n\nOpen <protocol><node fqdn>:<node port> (e.g. https://node.example.com:8080 or http://123.123.123.123:8080) in your browser and see what it outputs.\n\nIn both cases it should output this when wings is reachable:\n\n{\"error\" : \"The required authorization heads were not present in the request.\"}\n\nINFO\n\nNot sure what a specific error means? Visit our Discord and we will be happy to help you!\n\nEdit this page\nPrevious\nDatabase Hosts\nNext\nWhat is ...?\nPanel errors\nSome common errors\nWings connection issues\nCheck the wings service\nCheck the wings port\nCheck for NAT loop back\nCheck the wings connection\nDocumentation\nPanel\nWings\nSSL Setup\nCommunity\nDiscord\nBlog\nGitHub\nCopyright © 2024 Pelican"
  }
]